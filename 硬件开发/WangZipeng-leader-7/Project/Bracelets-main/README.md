# Bracelets：视障者辅助智能手环

##### 项目原地址:[https://github.com/wuming082/Bracelets](https://github.com/wuming082/Bracelets)

> **Bracelets** 是一款面向视障人群的智能穿戴设备，通过 **触觉反馈（震动）+ 无线通信（UDP / ESP-NOW）** 实现环境交互与远程提示功能。目标是提升独立出行与日常操作的安全性与便捷性。

![Bracelets V2 外观](/硬件开发/WangZipeng/Project/Bracelets-main/images/watch_new.jpg)

---

## 📅 开发日志（按时间线整理）

> 所有开发均围绕 **设备配对认证 → 低延迟通信 → 触觉反馈控制 → 硬件集成** 四大核心展开。

### 🔐 阶段一：设备认证与连接（2024.03.25 – 2024.04.03）
- **03/25**  
  实现 UDP 握手机制，加入 MAC 地址认证，为设备配对奠定基础  
  增加断链自动重连逻辑（双端任意断开均可恢复连接）
- **03/27**  
  新增连接状态检测函数：服务端可主动探测客户端在线状态，客户端可响应测试请求  
  配对测试模式：记录客户端 IP 与 MAC 地址
- **03/28**  
  封装 UDP 认证测试数据包  
  实现超时检测函数（用于连接可靠性判断）
- **03/29** ⚠️ **Beta 测试版发布**  
  设计通用 **UDP 超时检测类**，支持两种超时模式：  
    - 独立进程级超时（直接影响系统运行）  
    - 协同方法级超时（配合其他逻辑使用）  
  封装 **震动指令主类** 与 **UDP 震动包发送方法**  
  实现 **自定义目标地址/消息内容的 UDP 收发类**，内置接收超时异常机制  
- **03/30**  
  优化检测包封装逻辑  
  客户端可根据数据包长度自动进入对应工作模式  
  **发现丢包率约 30%（待优化）**  
  改进超时检测机制（Beta）

### ⚡ 阶段二：通信性能优化（2024.03.31 – 2024.04.04）
- **03/31**  
  震动指令接收延迟优化至 **< 2 秒**  
  引入 **ESP-NOW 协议**（替代部分 UDP 场景），显著降低通信延迟与设备功耗（Beta）
- **04/02**  
  完成 ESP-NOW 与主程序融合  
  实现马达震动控制函数，支持 **最小震动时长单位调节**
- **04/03**  
  构建 **设备注册框架**  
  新增 MAC 数据包处理逻辑：仅认证通过的设备可进入功能模式
- **04/04**  
  集成 **EEPROM 库**（规划中）：用于持久化存储设备 MAC 与历史信息（*尚未实装*）  
  设计 **按钮感知框架**：支持长按 / 短按差异化触发（*尚未实装*）

### 🛠️ 阶段三：硬件集成与结构设计（2024.04.07 – 2024.07.31）
- **04/07**  
  启动穿戴设备外壳 **3D 建模（初稿）**
- **04/17**  
  优化外壳模型细节
- **07/31**  
  发布 **手环外壳 V2 版本**  
  完成底层物理结构设计  
  完成 **V1.0 PCB 电路板设计**

---

## 🚧 当前状态与待办事项

| 项目 | 状态 |
|------|------|
| UDP 通信稳定性 | ⚠️ 丢包率较高（约 30%），建议优先切换至 ESP-NOW |
| EEPROM 数据存储 | 🟨 已集成库，未实装逻辑 |
| 按钮交互逻辑 | 🟨 框架已建，待实现 |
| ESP-NOW 全功能覆盖 | 🟩 核心通信已迁移，持续优化中 |
| 硬件原型 | 🟩 外壳 V2 + PCB V1.0 完成 |


> 💡 **项目理念**：技术应服务于人，尤其那些在数字世界中容易被忽视的群体。  
> **开发者**：Wang Zipeng  
> **方向**：硬件开发（嵌入式 + 物联网）｜牧码南山 · 2025 训练营
